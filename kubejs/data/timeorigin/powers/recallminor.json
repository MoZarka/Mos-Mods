{
    "hidden": true,
    "type": "origins:active_self",
    "name": "Temporal Recall",
    "description": "Using your time travel abilities, you can recall your physical form back to a previous state and location. Using primary key gives 2 powers:\n\nMinor Recall: Pressing Primary Key with a clock in your Offhand causes you to recall a short time into the past, returning your health and position.\n\nMajor Recall: Pressing Primary Key with a clock in your Main Hand causes you to return to the location of your last death, or if you have not died in this world, you return to the world spawn.",
    "cooldown": 600,
    "key": "primary",
    "hud_render": {
        "should_render": true,
        "sprite_location": "origins:textures/gui/resource_bar.png",
        "bar_index": 2
    },
    "entity_action": {
        "actions": [
            {
                "type": "origins:execute_command",
                "permission_level": 4,
                "command": "/execute if score @s timeshftdimens5 = 0 run in minecraft:overworld run teleport @s ~ ~ ~"
            },
            {
                "type": "origins:execute_command",
                "permission_level": 4,
                "command": "/execute if score @s timeshftdimens5 = 1 run in minecraft:the_nether run teleport @s ~ ~ ~"
            },
            {
                "type": "origins:execute_command",
                "permission_level": 4,
                "command": "/execute if score @s timeshftdimens5 = 2 run in minecraft:the_overworld run teleport @s ~ ~ ~"
            },
            {
                "type": "origins:execute_command",
                "permission_level": 4,
                "command": "summon minecraft:area_effect_cloud ~ ~ ~ {Tags:[\"tp_cloud\"]}"
            },
            {
                "type": "origins:execute_command",
                "permission_level": 4,
                "command": "execute store result entity @e[tag=tp_cloud,sort=nearest,limit=1] Pos[0] double 0.01 run scoreboard players get @s timeshftpos0.1.5"
            },
            {
                "type": "origins:execute_command",
                "permission_level": 4,
                "command": "execute store result entity @e[tag=tp_cloud,sort=nearest,limit=1] Pos[1] double 0.01 run scoreboard players get @s timeshftpos1.1.5"
            },
            {
                "type": "origins:execute_command",
                "permission_level": 4,
                "command": "execute store result entity @e[tag=tp_cloud,sort=nearest,limit=1] Pos[2] double 0.01 run scoreboard players get @s timeshftpos2.1.5"
            },
            {
                "type": "origins:execute_command",
                "permission_level": 4,
                "command": "effect @s clear"
            },
            {
                "type": "origins:execute_command",
                "permission_level": 4,
                "command": "/execute run attribute @s minecraft:generic.max_healthbase base set run scoreboard players get @s health5"
            },
            {
                "type": "origins:heal",
                "amount": 255
            },
            {
                "type": "origins:execute_command",
                "permission_level": 4,
                "command": "attribute base set @s minecraft:max_health 16"
            },
            {
                "type": "origins:and",
                "actions": [
                    {
                        "type": "origins:if_else",
                        "condition": {
                            "type": "origins:dimension",
                            "inverted": false,
                            "dimension": "minecraft:the_nether"
                        },
                        "if_action": {
                            "type": "origins:execute_command",
                            "permission_level": 4,
                            "command": "/scoreboard players set @s timeshftdimens7 1"
                        }
                    },
                    {
                        "type": "origins:if_else",
                        "condition": {
                            "type": "origins:dimension",
                            "inverted": false,
                            "dimension": "minecraft:overworld"
                        },
                        "if_action": {
                            "type": "origins:execute_command",
                            "permission_level": 4,
                            "command": "/scoreboard players set @s timeshftdimens7 0"
                        }
                    },
                    {
                        "type": "origins:if_else",
                        "condition": {
                            "type": "origins:dimension",
                            "inverted": false,
                            "dimension": "minecraft:the_end"
                        },
                        "if_action": {
                            "type": "origins:execute_command",
                            "permission_level": 4,
                            "command": "/scoreboard players set @s timeshftdimens7 2"
                        }
                    }
                ]
            },
            {
                "type": "origins:execute_command",
                "permission_level": 4,
                "command": "teleport @s @e[tag=tp_cloud,limit=1]"
            },
            {
                "type": "origins:change_resource",
                "resource": "timeorigin:recallminorfallpreventresource",
                "change": 10
            },
            {
                "type": "origins:execute_command",
                "permission_level": 4,
                "command": "/particle enchant ~ ~ ~ .125 .25 .125 1 25 force"
            },
            {
                "type": "origins:execute_command",
                "permission_level": 4,
                "command": "kill @e[tag=tp_cloud]"
            },
            {
                "type": "origins:change_resource",
                "resource": "timeorigin:timefatigueresource",
                "change": 5
            },
            {
                "type": "origins:execute_command",
                "permission_level": 4,
                "command": "/particle enchant ~ ~ ~ .125 .25 .125 1 125 force"
            },
            {
                "type": "origins:execute_command",
                "permission_level": 4,
                "command": "/particle enchant ~ ~ ~ .125 .25 .125 1 125 force"
            },
            {
                "type": "origins:execute_command",
                "permission_level": 4,
                "command": "summon area_effect_cloud ~ ~ ~ {Particle:\"enchant\",Radius:2.5f,Duration:20,RadiusPerTick:-0.125f}"
            },
            {
                "type": "origins:and",
                "actions": [
                    {
                        "type": "origins:if_else",
                        "condition": {
                            "type": "origins:resource",
                            "inverted": false,
                            "comparison": "==",
                            "resource": "timeorigin:health5res",
                            "compare_to": 1
                        },
                        "if_action": {
                            "type": "origins:and",
                            "actions": [
                                {
                                    "type": "origins:execute_command",
                                    "permission_level": 4,
                                    "command": "attribute @s minecraft:generic.max_health base set 1"
                                },
                                {
                                    "type": "origins:heal",
                                    "amount": 255
                                },
                                {
                                    "type": "origins:execute_command",
                                    "permission_level": 4,
                                    "command": "attribute @s minecraft:generic.max_health base set 16"
                                }
                            ]
                        }
                    },
                    {
                        "type": "origins:if_else",
                        "condition": {
                            "type": "origins:resource",
                            "inverted": false,
                            "comparison": "==",
                            "resource": "timeorigin:health5res",
                            "compare_to": 2
                        },
                        "if_action": {
                            "type": "origins:and",
                            "actions": [
                                {
                                    "type": "origins:execute_command",
                                    "permission_level": 4,
                                    "command": "attribute @s minecraft:generic.max_health base set 2"
                                },
                                {
                                    "type": "origins:heal",
                                    "amount": 255
                                },
                                {
                                    "type": "origins:execute_command",
                                    "permission_level": 4,
                                    "command": "attribute @s minecraft:generic.max_health base set 16"
                                }
                            ]
                        }
                    },
                    {
                        "type": "origins:if_else",
                        "condition": {
                            "type": "origins:resource",
                            "inverted": false,
                            "comparison": "==",
                            "resource": "timeorigin:health5res",
                            "compare_to": 3
                        },
                        "if_action": {
                            "type": "origins:and",
                            "actions": [
                                {
                                    "type": "origins:execute_command",
                                    "permission_level": 4,
                                    "command": "attribute @s minecraft:generic.max_health base set 3"
                                },
                                {
                                    "type": "origins:heal",
                                    "amount": 255
                                },
                                {
                                    "type": "origins:execute_command",
                                    "permission_level": 4,
                                    "command": "attribute @s minecraft:generic.max_health base set 16"
                                }
                            ]
                        }
                    },
                    {
                        "type": "origins:if_else",
                        "condition": {
                            "type": "origins:resource",
                            "inverted": false,
                            "comparison": "==",
                            "resource": "timeorigin:health5res",
                            "compare_to": 4
                        },
                        "if_action": {
                            "type": "origins:and",
                            "actions": [
                                {
                                    "type": "origins:execute_command",
                                    "permission_level": 4,
                                    "command": "attribute @s minecraft:generic.max_health base set 4"
                                },
                                {
                                    "type": "origins:heal",
                                    "amount": 255
                                },
                                {
                                    "type": "origins:execute_command",
                                    "permission_level": 4,
                                    "command": "attribute @s minecraft:generic.max_health base set 16"
                                }
                            ]
                        }
                    },
                    {
                        "type": "origins:if_else",
                        "condition": {
                            "type": "origins:resource",
                            "inverted": false,
                            "comparison": "==",
                            "resource": "timeorigin:health5res",
                            "compare_to": 5
                        },
                        "if_action": {
                            "type": "origins:and",
                            "actions": [
                                {
                                    "type": "origins:execute_command",
                                    "permission_level": 4,
                                    "command": "attribute @s minecraft:generic.max_health base set 5"
                                },
                                {
                                    "type": "origins:heal",
                                    "amount": 255
                                },
                                {
                                    "type": "origins:execute_command",
                                    "permission_level": 4,
                                    "command": "attribute @s minecraft:generic.max_health base set 16"
                                }
                            ]
                        }
                    },
                    {
                        "type": "origins:if_else",
                        "condition": {
                            "type": "origins:resource",
                            "inverted": false,
                            "comparison": "==",
                            "resource": "timeorigin:health5res",
                            "compare_to": 6
                        },
                        "if_action": {
                            "type": "origins:and",
                            "actions": [
                                {
                                    "type": "origins:execute_command",
                                    "permission_level": 4,
                                    "command": "attribute @s minecraft:generic.max_health base set 6"
                                },
                                {
                                    "type": "origins:heal",
                                    "amount": 255
                                },
                                {
                                    "type": "origins:execute_command",
                                    "permission_level": 4,
                                    "command": "attribute @s minecraft:generic.max_health base set 16"
                                }
                            ]
                        }
                    },
                    {
                        "type": "origins:if_else",
                        "condition": {
                            "type": "origins:resource",
                            "inverted": false,
                            "comparison": "==",
                            "resource": "timeorigin:health5res",
                            "compare_to": 7
                        },
                        "if_action": {
                            "type": "origins:and",
                            "actions": [
                                {
                                    "type": "origins:execute_command",
                                    "permission_level": 4,
                                    "command": "attribute @s minecraft:generic.max_health base set 7"
                                },
                                {
                                    "type": "origins:heal",
                                    "amount": 255
                                },
                                {
                                    "type": "origins:execute_command",
                                    "permission_level": 4,
                                    "command": "attribute @s minecraft:generic.max_health base set 16"
                                }
                            ]
                        }
                    },
                    {
                        "type": "origins:if_else",
                        "condition": {
                            "type": "origins:resource",
                            "inverted": false,
                            "comparison": "==",
                            "resource": "timeorigin:health5res",
                            "compare_to": 8
                        },
                        "if_action": {
                            "type": "origins:and",
                            "actions": [
                                {
                                    "type": "origins:execute_command",
                                    "permission_level": 4,
                                    "command": "attribute @s minecraft:generic.max_health base set 8"
                                },
                                {
                                    "type": "origins:heal",
                                    "amount": 255
                                },
                                {
                                    "type": "origins:execute_command",
                                    "permission_level": 4,
                                    "command": "attribute @s minecraft:generic.max_health base set 16"
                                }
                            ]
                        }
                    },
                    {
                        "type": "origins:if_else",
                        "condition": {
                            "type": "origins:resource",
                            "inverted": false,
                            "comparison": "==",
                            "resource": "timeorigin:health5res",
                            "compare_to": 9
                        },
                        "if_action": {
                            "type": "origins:and",
                            "actions": [
                                {
                                    "type": "origins:execute_command",
                                    "permission_level": 4,
                                    "command": "attribute @s minecraft:generic.max_health base set 9"
                                },
                                {
                                    "type": "origins:heal",
                                    "amount": 255
                                },
                                {
                                    "type": "origins:execute_command",
                                    "permission_level": 4,
                                    "command": "attribute @s minecraft:generic.max_health base set 16"
                                }
                            ]
                        }
                    },
                    {
                        "type": "origins:if_else",
                        "condition": {
                            "type": "origins:resource",
                            "inverted": false,
                            "comparison": "==",
                            "resource": "timeorigin:health5res",
                            "compare_to": 10
                        },
                        "if_action": {
                            "type": "origins:and",
                            "actions": [
                                {
                                    "type": "origins:execute_command",
                                    "permission_level": 4,
                                    "command": "attribute @s minecraft:generic.max_health base set 10"
                                },
                                {
                                    "type": "origins:heal",
                                    "amount": 255
                                },
                                {
                                    "type": "origins:execute_command",
                                    "permission_level": 4,
                                    "command": "attribute @s minecraft:generic.max_health base set 16"
                                }
                            ]
                        }
                    },
                    {
                        "type": "origins:if_else",
                        "condition": {
                            "type": "origins:resource",
                            "inverted": false,
                            "comparison": "==",
                            "resource": "timeorigin:health5res",
                            "compare_to": 11
                        },
                        "if_action": {
                            "type": "origins:and",
                            "actions": [
                                {
                                    "type": "origins:execute_command",
                                    "permission_level": 4,
                                    "command": "attribute @s minecraft:generic.max_health base set 11"
                                },
                                {
                                    "type": "origins:heal",
                                    "amount": 255
                                },
                                {
                                    "type": "origins:execute_command",
                                    "permission_level": 4,
                                    "command": "attribute @s minecraft:generic.max_health base set 16"
                                }
                            ]
                        }
                    },
                    {
                        "type": "origins:if_else",
                        "condition": {
                            "type": "origins:resource",
                            "inverted": false,
                            "comparison": "==",
                            "resource": "timeorigin:health5res",
                            "compare_to": 12
                        },
                        "if_action": {
                            "type": "origins:and",
                            "actions": [
                                {
                                    "type": "origins:execute_command",
                                    "permission_level": 4,
                                    "command": "attribute @s minecraft:generic.max_health base set 12"
                                },
                                {
                                    "type": "origins:heal",
                                    "amount": 255
                                },
                                {
                                    "type": "origins:execute_command",
                                    "permission_level": 4,
                                    "command": "attribute @s minecraft:generic.max_health base set 16"
                                }
                            ]
                        }
                    },
                    {
                        "type": "origins:if_else",
                        "condition": {
                            "type": "origins:resource",
                            "inverted": false,
                            "comparison": "==",
                            "resource": "timeorigin:health5res",
                            "compare_to": 13
                        },
                        "if_action": {
                            "type": "origins:and",
                            "actions": [
                                {
                                    "type": "origins:execute_command",
                                    "permission_level": 4,
                                    "command": "attribute @s minecraft:generic.max_health base set 13"
                                },
                                {
                                    "type": "origins:heal",
                                    "amount": 255
                                },
                                {
                                    "type": "origins:execute_command",
                                    "permission_level": 4,
                                    "command": "attribute @s minecraft:generic.max_health base set 16"
                                }
                            ]
                        }
                    },
                    {
                        "type": "origins:if_else",
                        "condition": {
                            "type": "origins:resource",
                            "inverted": false,
                            "comparison": "==",
                            "resource": "timeorigin:health5res",
                            "compare_to": 14
                        },
                        "if_action": {
                            "type": "origins:and",
                            "actions": [
                                {
                                    "type": "origins:execute_command",
                                    "permission_level": 4,
                                    "command": "attribute @s minecraft:generic.max_health base set 14"
                                },
                                {
                                    "type": "origins:heal",
                                    "amount": 255
                                },
                                {
                                    "type": "origins:execute_command",
                                    "permission_level": 4,
                                    "command": "attribute @s minecraft:generic.max_health base set 16"
                                }
                            ]
                        }
                    },
                    {
                        "type": "origins:if_else",
                        "condition": {
                            "type": "origins:resource",
                            "inverted": false,
                            "comparison": "==",
                            "resource": "timeorigin:health5res",
                            "compare_to": 15
                        },
                        "if_action": {
                            "type": "origins:and",
                            "actions": [
                                {
                                    "type": "origins:execute_command",
                                    "permission_level": 4,
                                    "command": "attribute @s minecraft:generic.max_health base set 15"
                                },
                                {
                                    "type": "origins:heal",
                                    "amount": 255
                                },
                                {
                                    "type": "origins:execute_command",
                                    "permission_level": 4,
                                    "command": "attribute @s minecraft:generic.max_health base set 16"
                                }
                            ]
                        }
                    },
                    {
                        "type": "origins:if_else",
                        "condition": {
                            "type": "origins:resource",
                            "inverted": false,
                            "comparison": "==",
                            "resource": "timeorigin:health5res",
                            "compare_to": 16
                        },
                        "if_action": {
                            "type": "origins:and",
                            "actions": [
                                {
                                    "type": "origins:execute_command",
                                    "permission_level": 4,
                                    "command": "attribute @s minecraft:generic.max_health base set 16"
                                },
                                {
                                    "type": "origins:heal",
                                    "amount": 255
                                },
                                {
                                    "type": "origins:execute_command",
                                    "permission_level": 4,
                                    "command": "attribute @s minecraft:generic.max_health base set 16"
                                }
                            ]
                        }
                    },
                    {
                        "type": "origins:execute_command",
                        "permission_level": 4,
                        "command": "playsound block.respawn_anchor.deplete master @s ~ ~ ~ 2"
                    }
                ]
            },
            {
                "type": "origins:execute_command",
                "permission_level": 4,
                "command": "/execute unless score @s timeshftdimens1 = @s timeshftdimens5 run spreadplayers ~ ~ 1000 1000 under 100 true @s"
            },
            {
                "type": "origins:extinguish"
            }
        ],
        "type": "origins:and"
    },
    "condition": {
        "type": "origins:and",
        "inverted": false,
        "conditions": [
            {
                "type": "origins:equipped_item",
                "inverted": false,
                "equipment_slot": "offhand",
                "item_condition": {
                    "type": "origins:ingredient",
                    "inverted": false,
                    "ingredient": {
                        "item": "minecraft:clock"
                    }
                }
            },
            {
                "type": "origins:equipped_item",
                "inverted": true,
                "equipment_slot": "mainhand",
                "item_condition": {
                    "type": "origins:ingredient",
                    "inverted": false,
                    "ingredient": {
                        "item": "minecraft:clock"
                    }
                }
            }
        ]
    }
}